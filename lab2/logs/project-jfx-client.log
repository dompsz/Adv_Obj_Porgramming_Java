2025-03-31 14:07:57.048 [main] INFO  c.project.datasource.DbInitializer.init(47) - QUERY 1:
CREATE TABLE IF NOT EXISTS projekt(
projekt_id SERIAL, --SERIAL lub INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 1, INCREMENT BY 1)
nazwa VARCHAR(50) NOT NULL,
opis VARCHAR(1000),
dataczas_utworzenia TIMESTAMP DEFAULT now(),
data_oddania DATE,
CONSTRAINT projekt_pk PRIMARY KEY (projekt_id)
);
CREATE TABLE IF NOT EXISTS zadanie(
zadanie_id SERIAL, --SERIAL lub INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 1, INCREMENT BY 1)
nazwa VARCHAR(50) NOT NULL,
opis VARCHAR(1000),
kolejnosc INTEGER,
dataczas_utworzenia TIMESTAMP DEFAULT now(),
projekt_id INTEGER NOT NULL,
CONSTRAINT zadanie_pk PRIMARY KEY (zadanie_id)
);

2025-03-31 14:07:57.060 [main] INFO  c.project.datasource.DbInitializer.init(47) - QUERY 2:
CREATE INDEX IF NOT EXISTS projekt_nazwa_idx ON projekt(nazwa);
CREATE INDEX IF NOT EXISTS zadanie_nazwa_idx ON zadanie(nazwa);
ALTER TABLE zadanie ADD CONSTRAINT IF NOT EXISTS zadanie_projekt_fk FOREIGN KEY (projekt_id)
REFERENCES projekt (projekt_id) ON DELETE CASCADE;
ALTER TABLE zadanie ADD CONSTRAINT IF NOT EXISTS unique_kolejnosc UNIQUE (kolejnosc, projekt_id);

